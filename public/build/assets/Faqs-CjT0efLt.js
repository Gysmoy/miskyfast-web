var w=Object.defineProperty;var h=(r,t,n)=>t in r?w(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var f=(r,t,n)=>h(r,typeof t!="symbol"?t+"":t,n);import{j as s}from"./highlightText-Cf8x2fCZ.js";import{B as b}from"./Base-uEbX2-hx.js";import{r as o}from"./index-BH53Isel.js";import{T as v}from"./TextareaFormGroup-BRtF9alm.js";import{c as j}from"./ReactAppend-QR5TrZfj.js";import{S as q}from"./sweetalert2.esm.all-CH_YVA8w.js";import{M as B}from"./Modal-Bsv-S6Ik.js";import{D as p}from"./DxButton-DV0H-ZcL.js";import{I as E}from"./InputFormGroup-DrEiC8gn.js";import{T as F}from"./Table-BS72y2hu.js";import{C}from"./CreateReactScript-BkuQg66_.js";import{B as D}from"./BasicRest-BSN0iM7g.js";import"./index-yBjzXJbu.js";import"./MenuItemContainer-D-Aykn96.js";import"./index-fRpqIG3j.js";import"./index-B6ujFmsw.js";import"./index.esm-QEAFbt3Y.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";/* empty css              */import"./main-CZ_LA3zH.js";/* empty css               */class S extends D{constructor(){super(...arguments);f(this,"path","admin/faqs")}}const c=new S,T=()=>{const r=o.useRef(),t=o.useRef(),n=o.useRef(),a=o.useRef(),l=o.useRef(),[d,u]=o.useState(!1),m=e=>{e!=null&&e.id?u(!0):u(!1),n.current.value=(e==null?void 0:e.id)??"",a.current.value=(e==null?void 0:e.question)??"",l.current.value=(e==null?void 0:e.answer)??"",$(t.current).modal("show")},x=async e=>{e.preventDefault();const i={id:n.current.value||void 0,question:a.current.value,answer:l.current.value};await c.save(i)&&($(r.current).dxDataGrid("instance").refresh(),$(t.current).modal("hide"))},g=async e=>{const{isConfirmed:i}=await q.fire({title:"Eliminar indicador",text:"Â¿Estas seguro de eliminar este indicador?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!i||!await c.delete(e)||$(r.current).dxDataGrid("instance").refresh()};return s.jsxs(s.Fragment,{children:[s.jsx(F,{gridRef:r,title:"Preguntas Frecuentes",rest:c,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(r.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nueva pregunta",hint:"Nueva pregunta",onClick:()=>m()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"question",caption:"Pregunta"},{dataField:"answer",caption:"Respuesta"},{caption:"Acciones",cellTemplate:(e,{data:i})=>{e.append(p({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>m(i)})),e.append(p({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>g(i.id)}))},allowFiltering:!1,allowExporting:!1}]}),s.jsx(B,{modalRef:t,title:d?"Editar Pregunta":"Agregar Pregunta",onSubmit:x,size:"md",children:s.jsxs("div",{className:"row",id:"faqs-container",children:[s.jsx("input",{ref:n,type:"hidden"}),s.jsx(E,{eRef:a,label:"Pregunta",col:"col-sm-8",rows:3,required:!0}),s.jsx(v,{eRef:l,label:"Respuesta",rows:3})]})})]})};C((r,t)=>{j.createRoot(r).render(s.jsx(b,{...t,title:"Preguntas Frecuentes",children:s.jsx(T,{...t})}))});
